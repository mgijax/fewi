<html xmlns:concordion="http://www.concordion.org/2007/concordion" xmlns:cc="http://fewi.custom.commands.FewiExtensions">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style>
	table {border-collapse: collapse; padding-bottom:5px; margin-bottom:5px;}
	table, th, td {border: 1px solid #CCCCCC;}
	td, th {padding:2px;}
	.man {background-color:#FFFFCC;}
	ul {padding: 0px; padding-bottom:3px; padding-top:0px; margin: 0px;}
	ol {padding: 0px; padding-bottom:3px; padding-top:0px; margin: 0px;}
	li {padding-left:2px; padding-top:0px; padding-bottom:0px; margin-left:25px;}
	p {margin:2px 0px;}
	.hilite {background-color:#FFFF00;}
	td.xl65 {background-color:#FFFF00;}
	td>ul {padding: 0px; padding-bottom:1px; padding-top:0px; margin: 0px;}
	td>ul li {padding-left:2px; padding-top:0px; padding-bottom:0px; margin-left:10px;}
</style>
<!-- declare strict doctype to look for disallowed html errors
 **  **  **  **  ** REMOVE THE LINE before committing the file **  **  **  **  **  **  **
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
 **  **  **  **  ** REMOVE THE LINE before committing the file **  **  **  **  **  **  **
 -->


    <title>Code Merge Sanity Check</title>
</head>

<body>

<div id="TOC">
	<p>Contents: <a href="#maintitle">Title</a> | <a href="#acceptance">Acceptance Criteria</a> | <a href="#manual">Manual Tests</a> | <a href="#auto">Automated Tests</a></p>
</div>

<div id="maintitle">
    <h1>Code Merge Sanity Check</h1>
    <ul>
        <li>User story 119, Merge scrum-bob code</li>
    </ul>
</div>

<div id="acceptance">
    <h2>Acceptance Criteria</h2>
	<ul>
		<li>run through whole system end-to-end</li>
		<li>run sanity checks</li>
		<li>don't need to test prod wi (?)</li>
		<li>use new b39 db backups</li>
	</ul>
	<p>scrumdog pages should look like those on Firien. - After Dec. 6 the 5.11 build will be Public.</p>
</div>



<div id="tests">
    <h2>Tests</h2>
    <p>Skip to <a href="#manual">Manual Tests</a> |  <a href="#auto">Automated Tests</a></p>
	<div id="manual">
<!-- To insert manual test results, use the following:
<p concordion:manual="true">testing assertTrue - displays as green</p>
<p concordion:manual="false">testing assertFalse - displays as red</p>
 -->
		<h3>Manual tests</h3>
		<ol>
    		<li>Major pages render in Python WI, Java WI, Fewi, and Search Tool.
    		<ol>
                <li><span concordion:manual="true">kstone 12/17/2012</span> - Marker Detail Page renders with all ribbons
                <ul>
                	<li><a href="http://scrumdog.informatics.jax.org:13080/fewi/mgi/marker/MGI:97490">Pax6</a></li>
                	<li><a href="http://scrumdog.informatics.jax.org:13080/fewi/mgi/marker/MGI:1330261">D9Mgc45e</a></li>
                	<li><a href="http://scrumdog.informatics.jax.org:13080/fewi/mgi/marker/MGI:87875">Acf1</a></li>
                	<li><a href="http://scrumdog.informatics.jax.org:13080/fewi/mgi/marker/MGI:88272">Cat2</a></li>
                	<li><a href="http://scrumdog.informatics.jax.org:13080/fewi/mgi/marker/MGI:91640">D8Mit1005</a></li>
                	<li><a href="http://scrumdog.informatics.jax.org:13080/fewi/mgi/marker/MGI:103599">In(1)10Rk-p</a></li>
                	<li><a href="http://scrumdog.informatics.jax.org:13080/fewi/mgi/marker/MGI:104284">Del(Y)B10.BR-Y/Ms</a></li>	
                </ul>
                </li>
                <li><span concordion:manual="true">kstone 12/17/2012</span> - Allele Detail Page renders with all ribbons
                <ul>
                	<li><a href="http://scrumdog.informatics.jax.org/fewi/mgi/allele/key/260">Pax6<sup>Sey</sup></a></li>
                </ul>
                </li>
                <li><span concordion:manual="true">kstone 12/17/2012</span> - GXD Detail Page renders
                <ul>
                	<li><a href="http://scrumdog.informatics.jax.org/gxd/marker/MGI:97490#gxd=markerMgiId%3DMGI%3A97490%26theilerStage%3D%26assayType%3D%26results%3D100%26startIndex%3D0%26sort%3D%26dir%3Dasc%26tab%3Dresultstab">Pax6 Results</a></li>
                </ul>
                </li>
                <li><span concordion:manual="true">kstone 12/17/2012</span> - Orthology Page renders
                <ul>
                	<li><a href="http://scrumdog.informatics.jax.org/searches/homology_report.cgi?_Marker_key/12184">Pax6 Orthology</a></li>
                </ul>
                </li>
                <li><span concordion:manual="true">kstone 12/17/2012</span> - Sequence Detail Page renders
                <ul>
                	<li><a href="http://scrumdog.informatics.jax.org/sequence/OTTMUST00000035640">VEGA Version: OTTMUST00000035640.GRCm39 </a></li>
                	<li><a href="http://scrumdog.informatics.jax.org/sequence/ENSMUST00000173007">EnSembl Version: ENSMUST00000173007.GRCm39 </a></li>
                	<li><a href="http://scrumdog.informatics.jax.org/sequence/NM_001244202">RefSeq Version: NM_001244202.1 </a></li>
                	<li><a href="http://scrumdog.informatics.jax.org/sequence/AK140480">GenBank Version: AK140480.1 </a></li>
                	<li><a href="http://scrumdog.informatics.jax.org/sequence/TC1714267">DFCI Version: TC1714267.v16 </a></li>
                	<li><a href="http://scrumdog.informatics.jax.org/sequence/P63015">UniProt Last sequence update: 2004-08-31 Last annotation update: 2012-10-31</a></li>
                	<li><a href="http://scrumdog.informatics.jax.org/sequence/DT.101736545">DoTS Version: DT.101736545.v11 </a></li>
                	<li><a href="http://scrumdog.informatics.jax.org/sequence/U039236">NIA Version: U039236.mm9 </a></li>
                </ul>
                </li>
                <li><span concordion:manual="true">kstone 12/17/2012</span> - Reference Detail Page renders
                <ul>
                	<li><a href="http://scrumdog.informatics.jax.org/reference/J:9808">J:9808 </a></li>
                </ul>
                </li>
                <li><span concordion:manual="true">kstone 12/17/2012</span> - SNP Detail Page renders
                <ul>
                	<li><a href="http://scrumdog.informatics.jax.org/snp/rs26922540">rs26922540 dbSNP (from dbSNP Build 128) Created in dbSNP build: 125
Last updated in dbSNP build: 125</a></li>
                </ul>
                </li>
                <li><span concordion:manual="true">kstone 12/17/2012</span> - Cre Detail Page renders
                <ul>
                	<li><a href="http://scrumdog.informatics.jax.org/fewi/mgi/allele/key/614862">Aire<sup>tm3(cre)Mmat</sup></a></li>
                </ul>
                </li>
                <li><span concordion:manual="true">kstone 12/17/2012</span> - Marker Summary from a Reference renders
                <ul>
                	<li><a href="http://scrumdog.informatics.jax.org/searches/marker_report_by_reference.cgi?184988">Genome Feature</a></li>
                </ul>
                </li>
                <li><span concordion:manual="true">kstone 12/17/2012</span> - Allele Summary from a Marker renders
                <ul>
                	<li><a href="http://scrumdog.informatics.jax.org/searches/allele_report.cgi?_Marker_key/14279">All Alleles</a></li>
                </ul>
                </li>
                <li><span concordion:manual="true">kstone 12/17/2012</span> - Expression Summary from a Marker renders
                <ul>
                	<li><a href="http://scrumdog.informatics.jax.org/gxd/marker/MGI:98834">Results</a></li>
                </ul>
                </li>
                <li><span concordion:manual="true">kstone 12/17/2012</span> - Sequence Summary from a Marker renders
                <ul>
                	<li><a href="http://scrumdog.informatics.jax.org/sequence/marker/MGI:98834">All sequences</a></li>
                </ul>
                </li>
                <li><span concordion:manual="true">kstone 12/17/2012</span> - Reference Summary from a Marker renders
                <ul>
                	<li><a href="http://scrumdog.informatics.jax.org/reference/marker/MGI:98834">All References</a></li>
                </ul>
                </li>
                <li><span concordion:manual="true">kstone 12/17/2012</span> - SNP Summary from a Marker renders
                <ul>
                	<li><a href="http://scrumdog.informatics.jax.org/searches/snp_report.cgi?_Marker_key/14279">SNP summary Trp53 (shows discrepancy message)</a></li>
                </ul>
                </li>
                <li><span concordion:manual="true">klf 12/5/2012</span> - Cre Summary from an Allele renders
                <ul>
                	<li><a href="http://scrumdog.informatics.jax.org/fewi/mgi/allele/key/6462">Tg(Camk2a-cre)T29-1Stl</a></li>
                </ul>
                </li>
                <li><span concordion:manual="true">kstone 12/17/2012</span> - Search Tool returns results
                <ul>
                	<li><a href="http://valinor.informatics.jax.org:8080/searchtool_wi/Search.do?query=lung&amp;submit=Quick+Search">Search for Lung</a></li>
                </ul>
                </li>
                <li><span concordion:manual="true">kstone 12/17/2012</span> - GXD Expression Query returns results
                <ul>
                	<li><span concordion:manual="true">passed - klf 12/5/2012</span> -  <a href="http://scrumdog.informatics.jax.org/gxd/#gxd=nomenclature%3DPax6%26vocabTerm%3D%26annotationId%3D%26structure%3D%26theilerStage%3D0%26results%3D100%26startIndex%3D0%26sort%3D%26dir%3Dasc%26tab%3Dresultstab">Query for Pax6 works </a></li>
                	<li><span concordion:manual="true">passed - klf 12/5/2012</span> -   <a href="http://scrumdog.informatics.jax.org/gxd/#gxd=nomenclature%3D%26vocabTerm%3Dbleb%20-%20Mammalian%20Phenotype%26annotationId%3DMP%3A0008854%26structure%3Dcardiovascular%20system%26age%3D9%26age%3D9.5%26age%3D10%26age%3D10.5%26age%3D11%26age%3D11.5%26age%3D12%26age%3D12.5%26age%3D13%26age%3D13.5%26age%3D14%26age%3D14.5%26age%3D15%26assayType%3DRT-PCR%26results%3D100%26startIndex%3D0%26sort%3D%26dir%3Dasc%26tab%3Dresultstab">Query for multiple terms works</a></li>
                </ul>
                </li>
                <li><span concordion:manual="true">kstone 12/17/2012</span> - Marker Query returns results
                <ul>
                	<li><a href="http://scrumdog.informatics.jax.org/searches/marker_report.cgi?op%3AmarkerSymname=contains&amp;markerSymname=trp53&amp;symnameBreadth=CM&amp;chromosome=&amp;op%3Acoords=between&amp;coords=&amp;coordUnits=bp&amp;startMarker=&amp;endMarker=&amp;op%3Acytoband=%3D&amp;cytoband=&amp;op%3Aoffset=between&amp;offset=&amp;op%3Ago_term=contains&amp;go_term=&amp;_Ontology_key/Molecular+Function&amp;_Ontology_key/Biological+Process&amp;_Ontology_key/Cellular+Component&amp;interpro=&amp;phenotypes=&amp;clone=&amp;sort=Nomenclature&amp;*limit=500&amp;format=Web">Search for Trp53</a></li>
                	<li>Vamp7 should be returned for queries on Chr 13 but not for Chr X (correct jeffc 12/05/2012)</li>
                </ul>
                </li>
                <li><span concordion:manual="true">passed - kstone 2012-12-17</span> - Allele Query returns results 
                <br/><i>Note: the phenotype/disease text search will fail, because we have not setup GLIMPSE. So we won't test that.</i>
                <ul>
                	<li>Go to the phenotype and allele query form</li>
                	<li>Search for marker Pax6</li>
                	<li>Verify that allele summary renders and has results</li>
                </ul>
                </li>
                <li><span concordion:manual="true">passed - kstone 2012-12-17</span> - Cre Query returns results
                <ul>
                	<li>Visit the recombinase mini home.</li>
                	<li>Do any query for "recombinase driven by"</li>
                	<li>Verify that the summary renders</li>
                	<li>Go back, do any query for "recombinase activity"</li>
                	<li>Verify that the summary renders</li>
                </ul>
                </li>
                <li><span concordion:manual="true">passed - kstone 2012-12-17</span> - GO Vocab Query returns results
                <ul>
                	<li>Visit the GO Browser page</li>
                	<li>Enter bleb into the query box</li>
                	<li>Search and verify that the results page renders</li>
                	<li>Revisit the GO browser page and enter a GO ID instead (e.g. GO:0032059).</li>
                	<li>Search and verify that the results page renders</li>
                </ul>
                </li>
                <li><span concordion:manual="true">passed - kstone 2012-12-17</span> - GO Vocab Browser works
                <ul>
                	<li>Visit any GO term in the browser (e.g. <a href="http://scrumdog.informatics.jax.org/vocab/gene_ontology/GO:0001527">microfibril</a>)</li>
                </ul>
                </li>
                <li><span concordion:manual="true">passed - kstone 2012-12-17</span> - Minihome Pages render
                <ul>
                	<li>Go to scrumdog.informatics.jax.org. </li>
                	<li>Verify that home pages still looks normal (like public)</li>
                	<li>Visit each mini home page and verify that they all render.</li>
                </ul>
                </li>
                <li><span concordion:manual="true">passed - kstone 2012-12-17</span> - Help Pages render
                <ul>
                	<li>Go to any marker detail page (Pax6 for example). Click user help for example</li>
                	<li>Verify that the text "a Get FASTA button will download the genomic sequence based on the coordinates. You can also add an equal amount of flanking sequence to each end."
                		exists in the Sequence Map section of the user help doc.</li>
                </ul>
                </li>
    		</ol>
    		</li>
    		<li>Pages affected by Build 39 changes (new Genomic Chromosome data, new coordinates) have correct data.
    		<br/>
    		<i>Note: These tests require mock data to be inserted for marker Vamp7.</i>
    		<ol>
    			<li><span concordion:manual="true">klf 12/18/12</span> - Marker coordinates for various markers [we loaded Scrum Bob's fake data with Chromosome conflict]
    			<ul>
                	<li><a href="http://scrumdog.informatics.jax.org:13080/fewi/mgi/marker/MGI:104993">Lepr</a>. Coordinates should be <b>Chr4:101717404-101815352 bp, + strand</b></li>
                	<li><a href="http://scrumdog.informatics.jax.org:13080/fewi/mgi/marker/MGI:1096399">Vamp7</a>. Genetic chr: Chromosome X. Genomic chr and coordinates: Chr13:4001111-4002222 bp, + strand.</li>
    			</ul>
    			</li>

    			<li><span concordion:manual="true">klf 12/18/12</span> - Sequence detail pages
    			<ul>
    				<li>Several sequence detail pages for Vamp7. <a href="http://scrumdog.informatics.jax.org/sequence/U041303">Example.</a> Version includes text "mm9" when necessary.</li>
    				<li>Several sequence detail pages for Pax6. <a href="http://scrumdog.informatics.jax.org/sequence/OTTMUSG00000015006">Example.</a> Version includes text "GRCm39" when necessary.</li>
    			</ul>
    			</li>

    			<li>Quick Search. <i>Note: This is happening as part of the upgrade to Jboss7 story. We don't need to verify the changes to the quick search code, since we never branched.
    				Also. It would be a pain to regenerate the indexes from scratch to test this.</i></li>
    			<li><span concordion:manual="true">passed - klf 12/18/2012</span> - Expression Summary - Genes tab. Search for Vamp7 on GXD query form. Click the genes tab and verify that the chromosome shown is 13 (the genomic). 
    				Also verify that the text "Genome Location - GRCm39" is displayed in the summary next to "Chr"</li>
    			<li><span concordion:manual="true">passed - klf 12/18/2012</span> - Batch Query. Search for Vamp7. Verify that chr13 is shown for the location. Also verify that the text "Genome Location - GRCm39" appears in the summary above Chr</li>
    		</ol>
    		</li>
    		<li>Functionality affected by addition of Genomic Chromosome and Coordinates For Any Marker still works.
    		<br/>
    		<i>Note: These tests require mock data to be inserted for marker Vamp7.</i>
    		<ol>
    			<li><span concordion:manual="true">passed - klf 12/18/2012</span> - Allele Detail page. Visit <a href="http://scrumdog.informatics.jax.org/fewi/mgi/allele/key/817289">Vamp7<sup>tm1.1Ics</sup></a> detail page. And verify that the allele is shown to be on chromosome 13 (the genomic)</li>
    			<li><span concordion:manual="true">passed - klf 12/18/2012</span> - Marker Query Form. Search.  Search for marker Vamp7, and chromosome X. Also search for Vamp7 and chromosome 13. Verify that you get the same result set for both queries. </li>
    			<li><span concordion:manual="true">passed - klf 12/18/2012</span> - GXD Expression Expanded Query. Search for marker Vamp7, and chromosome X. Also search for Vamp7 and chromosome 13. Verify that you get the same result set for both queries.</li>
    		</ol> 
    		</li>
    		<li>Bug fixes from 5.1.1. release made it into our code merge.
    		<ol>
    			<li><span concordion:manual="true">passed - klf 12/18/2012</span> - Public Batch Query returns non-zero results.</li>
    			<li><span concordion:manual="true">passed - klf 12/18/2012</span> - Orthology Page link from Marker Detail for Hoxa does not produce an error.</li>
    			<li><span concordion:manual="true">passed - klf 12/18/2012</span> - Count of SNPs on Marker Detail Page (for marker Ar) matches count of SNPs returned from SNP Summary for Marker.</li>
    		</ol>
    		</li>
    		<li>Bug fixes from our old 5.1 release are still present in merged code.
    		<ol>
    			<li><span concordion:manual="true">passed - klf 12/18/2012</span> - Batch Query text file download works.</li>
    			<li><span concordion:manual="true">passed - klf 12/18/2012</span> - Text and Excel filenames have the correct data and hour (from GXD Summary pages).</li>
    			<li><span concordion:manual="true">passed - klf 12/18/2012</span> - GXD QF Vocab autocomplete functionality works.</li>
    		</ol>
    		</li>
		</ol>
	</div>
	<div id="auto">
		<h3>Automated tests</h3>
		<ol>
    		<li>Test 1
    		<ol>
                <li>Step 1</li>
                <li>Step 2</li>
    		</ol>
    		</li>
		</ol>
 <!--  EXAMPLE TEST CASE USING DYNAMIC DATA SPREADSHEET AT https://docs.google.com/spreadsheet/ccc?key/0ArepxibBtJW2dEl0eEg1bElOc1Mxc1FnNGtmSmlUSlE#gid=2 
     			<li>
    			Query for <b concordion:set="#structure">4-cell stage</b> should return 
    			<b cc:assertEquals="getResultCount(#structure)"><b cc:dynamicData="countFor4CellStageResults"></b></b> assay results, 
    			<b cc:assertEquals="getAssayCount(#structure)"><b cc:dynamicData="countFor4CellStageAssays"></b></b> assays, 
    			and <b cc:assertEquals="getGeneCount(#structure)"><b cc:dynamicData="countFor4CellStageGenes"></b></b> genes.<br/></li>
  -->
 	</div>
</div>

</body>
</html>
